<div id="container" class="container-fluid">
  <div id="header" class="row">
    <div class="col-xs-4">
      <div class="form-group">
          <label for="bookSelect">Book:</label>
          <div id="bookSelect" class="input-group">
            <input class="form-control bookTitle" type="text" value="{{getBookTitle(currentBook)}}" disabled>
            <div class="input-group-btn">
              <div class="btn-group">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                  <span class="caret"></span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right">
                  <li *ngFor="let book of books" (click)="setCurrentBook(book)">
                    <a class="selectable">{{getBookTitle(book)}}</a>
                  </li>
                </ul>
              </div>
            </div>
         </div>
      </div>
    </div>
    <div class="col-xs-8">
      <div class="radio">
        <label><input type="radio" [(ngModel)]="searchAll" [checked]="searchAll == true" [value]="true">Search all books</label>
        <label><input type="radio" [(ngModel)]="searchAll" [checked]="searchAll == false" [value]="false">Search current book</label>
      </div>
      <div class="form-group">
        <div id="search" class="input-group">
          <input id="searchInput" class="form-control" type="text" (keypress)="keyboardEventHandler($event)">
            <span class="input-group-btn" >
              <button id="searchButton" class="btn btn-default" type="button" (click)="search()">Search</button>
            </span>
        </div>
      </div>
    </div>
  </div>
  <div id="content" class="row">
    <div class="col-xs-4">
      <div id="itemsPanel">
        <ul class="nav nav-pills nav-stacked">
          <li *ngFor="let item of items | itemFilter:[selectedChapterId, selectedTypeId]" (click)="setCurrentItem(item)">
            <a class="selectable">{{getTitle(item, showBookId)}}&nbsp;</a>
          </li>
        </ul>
      </div>
    </div>
    <div class="col-xs-8">
      <div id="infoPanel">
        <div id="infoContent">
          <button id="pdfButton" class="btn btn-md btn-primary pagesButton" type="button" (click)="downloadPdf(currentItem)">Download PDF</button>
          <button id="zipButton" class="btn btn-md btn-primary pagesButton" type="button" (click)="downloadZip(currentItem)">Download images</button>
          <h3>Book:</h3>
          <p>{{(currentItem?.authorId==-1)?'-':getBookForItem(currentItem)?.title}}</p>
          <h3>Author:</h3>
          <p>{{(currentItem?.authorId==-1)?'-':getAuthor(currentItem)}}</p>
          <h3>Title:</h3>
          <p>{{(currentItem?.title=='')?'-':getTitle(currentItem, false)}}</p>
          <h3>Type:</h3>
          <p>{{(currentItem?.typeId==0)?'-':getType(currentItem)}}</p>
          <h3>Notes:</h3>
          <p>{{(currentItem?.notes=='')?'-':currentItem?.notes}}</p>
        </div>
      </div>
    </div>
  </div>
  <div id="footer" class="row">
    <div class="col-xs-4">
      <div class="footerPanel">
        <div class="form-group">
          <label for="chapterSelect">Chapter:</label>
          <select id="chapterSelect" class="form-control" [(ngModel)]="selectedChapterId">
            <option *ngFor="let chapter of chapters" [ngValue]="chapter.chapterId">{{chapter.title}}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="typeSelect">Type:</label>
          <select id="typeSelect" class="form-control" [(ngModel)]="selectedTypeId">
            <option *ngFor="let type of types" [ngValue]="type.typeId">{{type.title}}</option>
          </select>
        </div>
      </div>
    </div>
    <div class="col-xs-8">
      <div class="footerPanel">
        <div id="previewContent">
          <div id="previewCell">
            <a *ngFor="let page of pages" href="images/pages/{{page.filename}}" target="_blank">
              <img src="images/preview/{{page.filename}}"/>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
